{
  "timestamp": "2025-05-27T21:11:42.566590",
  "total_execution_time": 78.73325085639954,
  "test_results": {
    "full_system": {
      "return_code": 1,
      "stdout": "\ud83d\udd27 ScrapyPlaywrightService initialized with base_dir: /home/igtmtakan/workplace/python/scrapyUI/scrapy_projects\n============================= test session starts ==============================\nplatform linux -- Python 3.13.2, pytest-8.3.5, pluggy-1.5.0 -- /home/igtmtakan/.pyenv/versions/3.13.2/bin/python\ncachedir: .pytest_cache\nrootdir: /home/igtmtakan/workplace/python/scrapyUI/backend\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.3.0, asyncio-0.26.0, cov-6.1.1, mock-3.14.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 10 items\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_complete_project_lifecycle \n\ud83d\ude80 Starting ScrapyUI Integration Test Suite\n============================================================\n2025-05-27 21:10:27,822 - app.main - INFO - \ud83d\ude80 Starting ScrapyUI Application...\n2025-05-27 21:10:27,823 - app.main - INFO - \u2705 ScrapyPlaywrightService initialized\nTask monitoring thread started. PID: 1272344\nTask monitoring started\n2025-05-27 21:10:27,827 - app.main - INFO - \ud83d\udd0d Task monitoring system started\n\ud83d\udd04 Scheduler main loop started\n\u2705 Scheduler service started\n2025-05-27 21:10:27,829 - app.main - INFO - \u23f0 Schedule service started\n2025-05-27 21:10:27,833 - app.main - INFO - \u2705 ScrapyUI Application started successfully\n\u2705 ScrapyUI Application started successfully\n\ud83d\udd0d Task monitoring system initialized\n\u23f0 Schedule service initialized\n2025-05-27 21:10:27,837 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:10:27,843 - app.api.projects - INFO - Creating new project: Integration Test Project | Extra: {\"project_name\": \"Integration Test Project\", \"description\": \"Full integration test project\"}\n2025-05-27 21:10:27,849 - app.api.projects - INFO - Test project directory created: ./scrapy_projects/Integration Test Project\n2025-05-27 21:10:27,861 - app.api.projects - INFO - Project created successfully: Integration Test Project | Extra: {\"project_path\": \"Integration Test Project\"}\n2025-05-27 21:10:27,862 - access - INFO - POST /api/projects/ - 201\n2025-05-27 21:10:27,862 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 201\n2025-05-27 21:10:27,864 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\n2025-05-27 21:10:27,866 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files\n2025-05-27 21:10:27,867 - access - INFO - GET /api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files - 405\n2025-05-27 21:10:27,868 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files - 405\n2025-05-27 21:10:27,869 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files \"HTTP/1.1 405 Method Not Allowed\"\nFAILED2025-05-27 21:10:28,022 - app.main - INFO - \ud83d\uded1 Shutting down ScrapyUI Application...\nTask monitoring thread stopped\nTask monitoring stopped\n2025-05-27 21:10:32,830 - app.main - INFO - \ud83d\udd0d Task monitoring system stopped\n\ud83d\uded1 Scheduler service stopped\n2025-05-27 21:10:37,830 - app.main - INFO - \u23f0 Schedule service stopped\n2025-05-27 21:10:37,831 - app.main - INFO - \ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\udd0d Task monitoring system stopped\n\u23f0 Schedule service stopped\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_api_endpoints_integration 2025-05-27 21:10:38,305 - app.main - INFO - \ud83d\ude80 Starting ScrapyUI Application...\n2025-05-27 21:10:38,305 - app.main - INFO - \u2705 ScrapyPlaywrightService initialized\nTask monitoring thread started. PID: 1272344\nTask monitoring started\n2025-05-27 21:10:38,307 - app.main - INFO - \ud83d\udd0d Task monitoring system started\n\ud83d\udd04 Scheduler main loop started\n\u2705 Scheduler service started\n2025-05-27 21:10:38,309 - app.main - INFO - \u23f0 Schedule service started\n2025-05-27 21:10:38,310 - app.main - INFO - \u2705 ScrapyUI Application started successfully\n\u2705 ScrapyUI Application started successfully\n\ud83d\udd0d Task monitoring system initialized\n\u23f0 Schedule service initialized\n2025-05-27 21:10:38,312 - app.middleware.error_middleware - INFO - Request started: GET /api/auth/me\n2025-05-27 21:10:38,318 - access - INFO - GET /api/auth/me - 200\n2025-05-27 21:10:38,319 - app.middleware.error_middleware - INFO - Request completed: GET /api/auth/me - 200\n2025-05-27 21:10:38,319 - httpx - INFO - HTTP Request: GET http://testserver/api/auth/me \"HTTP/1.1 200 OK\"\n2025-05-27 21:10:38,321 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/\n2025-05-27 21:10:38,324 - access - INFO - GET /api/projects/ - 200\n2025-05-27 21:10:38,324 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/ - 200\n2025-05-27 21:10:38,325 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/ \"HTTP/1.1 200 OK\"\n2025-05-27 21:10:38,327 - app.middleware.error_middleware - INFO - Request started: GET /api/spiders/\n2025-05-27 21:10:38,331 - access - INFO - GET /api/spiders/ - 200\n2025-05-27 21:10:38,331 - app.middleware.error_middleware - INFO - Request completed: GET /api/spiders/ - 200\n2025-05-27 21:10:38,332 - httpx - INFO - HTTP Request: GET http://testserver/api/spiders/ \"HTTP/1.1 200 OK\"\n2025-05-27 21:10:38,334 - app.middleware.error_middleware - INFO - Request started: GET /api/tasks/\n2025-05-27 21:10:38,338 - access - INFO - GET /api/tasks/ - 200\n2025-05-27 21:10:38,338 - app.middleware.error_middleware - INFO - Request completed: GET /api/tasks/ - 200\n2025-05-27 21:10:38,339 - httpx - INFO - HTTP Request: GET http://testserver/api/tasks/ \"HTTP/1.1 200 OK\"\n2025-05-27 21:10:38,341 - app.middleware.error_middleware - INFO - Request started: GET /api/results/\n2025-05-27 21:10:38,345 - access - INFO - GET /api/results/ - 200\n2025-05-27 21:10:38,345 - app.middleware.error_middleware - INFO - Request completed: GET /api/results/ - 200\n2025-05-27 21:10:38,346 - httpx - INFO - HTTP Request: GET http://testserver/api/results/ \"HTTP/1.1 200 OK\"\n2025-05-27 21:10:38,348 - app.middleware.error_middleware - INFO - Request started: GET /api/schedules/\n2025-05-27 21:10:38,353 - access - INFO - GET /api/schedules/ - 200\n2025-05-27 21:10:38,354 - app.middleware.error_middleware - INFO - Request completed: GET /api/schedules/ - 200\n2025-05-27 21:10:38,354 - httpx - INFO - HTTP Request: GET http://testserver/api/schedules/ \"HTTP/1.1 200 OK\"\nPASSED2025-05-27 21:10:38,356 - app.main - INFO - \ud83d\uded1 Shutting down ScrapyUI Application...\nTask monitoring thread stopped\nTask monitoring stopped\n2025-05-27 21:10:43,308 - app.main - INFO - \ud83d\udd0d Task monitoring system stopped\n\ud83d\uded1 Scheduler service stopped\n2025-05-27 21:10:48,309 - app.main - INFO - \u23f0 Schedule service stopped\n2025-05-27 21:10:48,309 - app.main - INFO - \ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\udd0d Task monitoring system stopped\n\u23f0 Schedule service stopped\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_websocket_integration PASSED\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_database_integration PASSED\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_file_system_integration 2025-05-27 21:10:49,668 - app.main - INFO - \ud83d\ude80 Starting ScrapyUI Application...\n2025-05-27 21:10:49,668 - app.main - INFO - \u2705 ScrapyPlaywrightService initialized\nTask monitoring thread started. PID: 1272344\nTask monitoring started\n2025-05-27 21:10:49,670 - app.main - INFO - \ud83d\udd0d Task monitoring system started\n\ud83d\udd04 Scheduler main loop started\n\u2705 Scheduler service started\n2025-05-27 21:10:49,673 - app.main - INFO - \u23f0 Schedule service started\n2025-05-27 21:10:49,673 - app.main - INFO - \u2705 ScrapyUI Application started successfully\n\u2705 ScrapyUI Application started successfully\n\ud83d\udd0d Task monitoring system initialized\n\u23f0 Schedule service initialized\n2025-05-27 21:10:49,675 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:10:49,678 - app.api.projects - INFO - Creating new project: File System Test | Extra: {\"project_name\": \"File System Test\", \"description\": \"File system integration test\"}\n2025-05-27 21:10:49,680 - app.api.projects - INFO - Test project directory created: ./scrapy_projects/File System Test\n2025-05-27 21:10:49,688 - app.api.projects - INFO - Project created successfully: File System Test | Extra: {\"project_path\": \"File System Test\"}\n2025-05-27 21:10:49,690 - access - INFO - POST /api/projects/ - 201\n2025-05-27 21:10:49,690 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 201\n2025-05-27 21:10:49,691 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\n2025-05-27 21:10:49,693 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files\n2025-05-27 21:10:49,694 - access - INFO - GET /api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files - 405\n2025-05-27 21:10:49,695 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files - 405\n2025-05-27 21:10:49,696 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files \"HTTP/1.1 405 Method Not Allowed\"\nFAILED2025-05-27 21:10:49,707 - app.main - INFO - \ud83d\uded1 Shutting down ScrapyUI Application...\nTask monitoring thread stopped\nTask monitoring stopped\n2025-05-27 21:10:54,671 - app.main - INFO - \ud83d\udd0d Task monitoring system stopped\n\ud83d\uded1 Scheduler service stopped\n2025-05-27 21:10:59,672 - app.main - INFO - \u23f0 Schedule service stopped\n2025-05-27 21:10:59,672 - app.main - INFO - \ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\udd0d Task monitoring system stopped\n\u23f0 Schedule service stopped\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_performance_integration 2025-05-27 21:11:00,105 - app.main - INFO - \ud83d\ude80 Starting ScrapyUI Application...\n2025-05-27 21:11:00,105 - app.main - INFO - \u2705 ScrapyPlaywrightService initialized\nTask monitoring thread started. PID: 1272344\nTask monitoring started\n2025-05-27 21:11:00,107 - app.main - INFO - \ud83d\udd0d Task monitoring system started\n\ud83d\udd04 Scheduler main loop started\n\u2705 Scheduler service started\n2025-05-27 21:11:00,108 - app.main - INFO - \u23f0 Schedule service started\n2025-05-27 21:11:00,109 - app.main - INFO - \u2705 ScrapyUI Application started successfully\n\u2705 ScrapyUI Application started successfully\n\ud83d\udd0d Task monitoring system initialized\n\u23f0 Schedule service initialized\n2025-05-27 21:11:00,112 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:11:00,114 - app.api.projects - INFO - Creating new project: Performance Test Project 0 | Extra: {\"project_name\": \"Performance Test Project 0\", \"description\": \"Performance test project 0\"}\n2025-05-27 21:11:00,116 - app.api.projects - INFO - Test project directory created: ./scrapy_projects/Performance Test Project 0\n2025-05-27 21:11:00,123 - app.api.projects - INFO - Project created successfully: Performance Test Project 0 | Extra: {\"project_path\": \"Performance Test Project 0\"}\n2025-05-27 21:11:00,124 - access - INFO - POST /api/projects/ - 201\n2025-05-27 21:11:00,125 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 201\n2025-05-27 21:11:00,126 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\n2025-05-27 21:11:00,127 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:11:00,129 - app.api.projects - INFO - Creating new project: Performance Test Project 1 | Extra: {\"project_name\": \"Performance Test Project 1\", \"description\": \"Performance test project 1\"}\n2025-05-27 21:11:00,131 - app.api.projects - INFO - Test project directory created: ./scrapy_projects/Performance Test Project 1\n2025-05-27 21:11:00,138 - app.api.projects - INFO - Project created successfully: Performance Test Project 1 | Extra: {\"project_path\": \"Performance Test Project 1\"}\n2025-05-27 21:11:00,139 - access - INFO - POST /api/projects/ - 201\n2025-05-27 21:11:00,140 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 201\n2025-05-27 21:11:00,141 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\n2025-05-27 21:11:00,142 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:11:00,144 - app.api.projects - INFO - Creating new project: Performance Test Project 2 | Extra: {\"project_name\": \"Performance Test Project 2\", \"description\": \"Performance test project 2\"}\n2025-05-27 21:11:00,146 - app.api.projects - INFO - Test project directory created: ./scrapy_projects/Performance Test Project 2\n2025-05-27 21:11:00,154 - app.api.projects - INFO - Project created successfully: Performance Test Project 2 | Extra: {\"project_path\": \"Performance Test Project 2\"}\n2025-05-27 21:11:00,155 - access - INFO - POST /api/projects/ - 201\n2025-05-27 21:11:00,156 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 201\n2025-05-27 21:11:00,157 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\n2025-05-27 21:11:00,159 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:11:00,161 - app.api.projects - INFO - Creating new project: Performance Test Project 3 | Extra: {\"project_name\": \"Performance Test Project 3\", \"description\": \"Performance test project 3\"}\n2025-05-27 21:11:00,163 - app.api.projects - INFO - Test project directory created: ./scrapy_projects/Performance Test Project 3\n2025-05-27 21:11:00,171 - app.api.projects - INFO - Project created successfully: Performance Test Project 3 | Extra: {\"project_path\": \"Performance Test Project 3\"}\n2025-05-27 21:11:00,172 - access - INFO - POST /api/projects/ - 201\n2025-05-27 21:11:00,172 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 201\n2025-05-27 21:11:00,173 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\n2025-05-27 21:11:00,175 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:11:00,176 - app.api.projects - INFO - Creating new project: Performance Test Project 4 | Extra: {\"project_name\": \"Performance Test Project 4\", \"description\": \"Performance test project 4\"}\n2025-05-27 21:11:00,178 - app.api.projects - INFO - Test project directory created: ./scrapy_projects/Performance Test Project 4\n2025-05-27 21:11:00,186 - app.api.projects - INFO - Project created successfully: Performance Test Project 4 | Extra: {\"project_path\": \"Performance Test Project 4\"}\n2025-05-27 21:11:00,187 - access - INFO - POST /api/projects/ - 201\n2025-05-27 21:11:00,188 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 201\n2025-05-27 21:11:00,188 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\n2025-05-27 21:11:00,190 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/\n2025-05-27 21:11:00,193 - access - INFO - GET /api/projects/ - 200\n2025-05-27 21:11:00,194 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/ - 200\n2025-05-27 21:11:00,195 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/ \"HTTP/1.1 200 OK\"\nPASSED2025-05-27 21:11:00,196 - app.main - INFO - \ud83d\uded1 Shutting down ScrapyUI Application...\nTask monitoring thread stopped\nTask monitoring stopped\n2025-05-27 21:11:05,107 - app.main - INFO - \ud83d\udd0d Task monitoring system stopped\n\ud83d\uded1 Scheduler service stopped\n2025-05-27 21:11:10,108 - app.main - INFO - \u23f0 Schedule service stopped\n2025-05-27 21:11:10,109 - app.main - INFO - \ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\udd0d Task monitoring system stopped\n\u23f0 Schedule service stopped\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_error_handling_integration 2025-05-27 21:11:10,559 - app.main - INFO - \ud83d\ude80 Starting ScrapyUI Application...\n2025-05-27 21:11:10,559 - app.main - INFO - \u2705 ScrapyPlaywrightService initialized\nTask monitoring thread started. PID: 1272344\nTask monitoring started\n2025-05-27 21:11:10,561 - app.main - INFO - \ud83d\udd0d Task monitoring system started\n\ud83d\udd04 Scheduler main loop started\n\u2705 Scheduler service started\n2025-05-27 21:11:10,563 - app.main - INFO - \u23f0 Schedule service started\n2025-05-27 21:11:10,563 - app.main - INFO - \u2705 ScrapyUI Application started successfully\n\u2705 ScrapyUI Application started successfully\n\ud83d\udd0d Task monitoring system initialized\n\u23f0 Schedule service initialized\n2025-05-27 21:11:10,565 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/non-existent-id\n2025-05-27 21:11:10,568 - access - INFO - GET /api/projects/non-existent-id - 404\n2025-05-27 21:11:10,569 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/non-existent-id - 404\n2025-05-27 21:11:10,569 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/non-existent-id \"HTTP/1.1 404 Not Found\"\n2025-05-27 21:11:10,571 - app.middleware.error_middleware - INFO - Request started: POST /api/projects/\n2025-05-27 21:11:10,573 - access - INFO - POST /api/projects/ - 422\n2025-05-27 21:11:10,574 - app.middleware.error_middleware - INFO - Request completed: POST /api/projects/ - 422\n2025-05-27 21:11:10,575 - httpx - INFO - HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 422 Unprocessable Entity\"\n2025-05-27 21:11:10,576 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/\n2025-05-27 21:11:10,579 - access - INFO - GET /api/projects/ - 200\n2025-05-27 21:11:10,579 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/ - 200\n2025-05-27 21:11:10,580 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/ \"HTTP/1.1 200 OK\"\nPASSED2025-05-27 21:11:10,581 - app.main - INFO - \ud83d\uded1 Shutting down ScrapyUI Application...\nTask monitoring thread stopped\nTask monitoring stopped\n2025-05-27 21:11:15,562 - app.main - INFO - \ud83d\udd0d Task monitoring system stopped\n\ud83d\uded1 Scheduler service stopped\n2025-05-27 21:11:20,562 - app.main - INFO - \u23f0 Schedule service stopped\n2025-05-27 21:11:20,563 - app.main - INFO - \ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\udd0d Task monitoring system stopped\n\u23f0 Schedule service stopped\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_security_integration 2025-05-27 21:11:20,982 - app.main - INFO - \ud83d\ude80 Starting ScrapyUI Application...\n2025-05-27 21:11:20,982 - app.main - INFO - \u2705 ScrapyPlaywrightService initialized\nTask monitoring thread started. PID: 1272344\nTask monitoring started\n2025-05-27 21:11:20,983 - app.main - INFO - \ud83d\udd0d Task monitoring system started\n\ud83d\udd04 Scheduler main loop started\n\u2705 Scheduler service started\n2025-05-27 21:11:20,985 - app.main - INFO - \u23f0 Schedule service started\n2025-05-27 21:11:20,986 - app.main - INFO - \u2705 ScrapyUI Application started successfully\n\u2705 ScrapyUI Application started successfully\n\ud83d\udd0d Task monitoring system initialized\n\u23f0 Schedule service initialized\n2025-05-27 21:11:20,988 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/\n2025-05-27 21:11:20,991 - access - INFO - GET /api/projects/ - 200\n2025-05-27 21:11:20,991 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/ - 200\n2025-05-27 21:11:20,993 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/ \"HTTP/1.1 200 OK\"\nFAILED2025-05-27 21:11:21,121 - app.main - INFO - \ud83d\uded1 Shutting down ScrapyUI Application...\nTask monitoring thread stopped\nTask monitoring stopped\n2025-05-27 21:11:25,984 - app.main - INFO - \ud83d\udd0d Task monitoring system stopped\n\ud83d\uded1 Scheduler service stopped\n2025-05-27 21:11:30,985 - app.main - INFO - \u23f0 Schedule service stopped\n2025-05-27 21:11:30,985 - app.main - INFO - \ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\udd0d Task monitoring system stopped\n\u23f0 Schedule service stopped\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_async_operations_integration FAILED\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_logging_integration 2025-05-27 21:11:31,885 - app.main - INFO - \ud83d\ude80 Starting ScrapyUI Application...\n2025-05-27 21:11:31,886 - app.main - INFO - \u2705 ScrapyPlaywrightService initialized\nTask monitoring thread started. PID: 1272344\nTask monitoring started\n2025-05-27 21:11:31,887 - app.main - INFO - \ud83d\udd0d Task monitoring system started\n\ud83d\udd04 Scheduler main loop started\n\u2705 Scheduler service started\n2025-05-27 21:11:31,891 - app.main - INFO - \u23f0 Schedule service started\n2025-05-27 21:11:31,891 - app.main - INFO - \u2705 ScrapyUI Application started successfully\n\u2705 ScrapyUI Application started successfully\n\ud83d\udd0d Task monitoring system initialized\n\u23f0 Schedule service initialized\n2025-05-27 21:11:31,894 - app.middleware.error_middleware - INFO - Request started: GET /api/projects/\n2025-05-27 21:11:31,897 - access - INFO - GET /api/projects/ - 200\n2025-05-27 21:11:31,898 - app.middleware.error_middleware - INFO - Request completed: GET /api/projects/ - 200\n2025-05-27 21:11:31,899 - httpx - INFO - HTTP Request: GET http://testserver/api/projects/ \"HTTP/1.1 200 OK\"\nPASSED2025-05-27 21:11:31,900 - app.main - INFO - \ud83d\uded1 Shutting down ScrapyUI Application...\nTask monitoring thread stopped\nTask monitoring stopped\n2025-05-27 21:11:36,892 - app.main - INFO - \ud83d\udd0d Task monitoring system stopped\n\ud83d\uded1 Scheduler service stopped\n2025-05-27 21:11:41,892 - app.main - INFO - \u23f0 Schedule service stopped\n2025-05-27 21:11:41,893 - app.main - INFO - \ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\uded1 ScrapyUI Application shutdown completed\n\ud83d\udd0d Task monitoring system stopped\n\u23f0 Schedule service stopped\n\n============================================================\n\ud83c\udf89 ScrapyUI Integration Test Suite Completed\n\n\n=================================== FAILURES ===================================\n__________ TestFullSystemIntegration.test_complete_project_lifecycle ___________\ntests/integration/test_full_system_integration.py:82: in test_complete_project_lifecycle\n    assert response.status_code == 200\nE   assert 405 == 200\nE    +  where 405 = <Response [405 Method Not Allowed]>.status_code\n------------------------------ Captured log setup ------------------------------\nINFO     app.main:main.py:443 \ud83d\ude80 Starting ScrapyUI Application...\nINFO     app.main:main.py:450 \u2705 ScrapyPlaywrightService initialized\nINFO     app.main:main.py:454 \ud83d\udd0d Task monitoring system started\nINFO     app.main:main.py:458 \u23f0 Schedule service started\nINFO     app.main:main.py:460 \u2705 ScrapyUI Application started successfully\n------------------------------ Captured log call -------------------------------\nINFO     app.middleware.error_middleware:error_middleware.py:79 Request started: POST /api/projects/\nINFO     app.api.projects:logging_config.py:211 Creating new project: Integration Test Project | Extra: {\"project_name\": \"Integration Test Project\", \"description\": \"Full integration test project\"}\nINFO     app.api.projects:projects.py:112 Test project directory created: ./scrapy_projects/Integration Test Project\nINFO     app.api.projects:logging_config.py:211 Project created successfully: Integration Test Project | Extra: {\"project_path\": \"Integration Test Project\"}\nINFO     access:error_handler.py:326 POST /api/projects/ - 201\nINFO     app.middleware.error_middleware:error_middleware.py:94 Request completed: POST /api/projects/ - 201\nINFO     httpx:_client.py:1025 HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\nINFO     app.middleware.error_middleware:error_middleware.py:79 Request started: GET /api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files\nINFO     access:error_handler.py:326 GET /api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files - 405\nINFO     app.middleware.error_middleware:error_middleware.py:94 Request completed: GET /api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files - 405\nINFO     httpx:_client.py:1025 HTTP Request: GET http://testserver/api/projects/35d3e669-5883-4af5-b248-778c2bf55ce2/files \"HTTP/1.1 405 Method Not Allowed\"\n---------------------------- Captured log teardown -----------------------------\nINFO     app.main:main.py:478 \ud83d\uded1 Shutting down ScrapyUI Application...\nINFO     app.main:main.py:485 \ud83d\udd0d Task monitoring system stopped\nINFO     app.main:main.py:489 \u23f0 Schedule service stopped\nINFO     app.main:main.py:491 \ud83d\uded1 ScrapyUI Application shutdown completed\n____________ TestFullSystemIntegration.test_file_system_integration ____________\ntests/integration/test_full_system_integration.py:283: in test_file_system_integration\n    assert response.status_code == 200\nE   assert 405 == 200\nE    +  where 405 = <Response [405 Method Not Allowed]>.status_code\n------------------------------ Captured log setup ------------------------------\nINFO     app.main:main.py:443 \ud83d\ude80 Starting ScrapyUI Application...\nINFO     app.main:main.py:450 \u2705 ScrapyPlaywrightService initialized\nINFO     app.main:main.py:454 \ud83d\udd0d Task monitoring system started\nINFO     app.main:main.py:458 \u23f0 Schedule service started\nINFO     app.main:main.py:460 \u2705 ScrapyUI Application started successfully\n------------------------------ Captured log call -------------------------------\nINFO     app.middleware.error_middleware:error_middleware.py:79 Request started: POST /api/projects/\nINFO     app.api.projects:logging_config.py:211 Creating new project: File System Test | Extra: {\"project_name\": \"File System Test\", \"description\": \"File system integration test\"}\nINFO     app.api.projects:projects.py:112 Test project directory created: ./scrapy_projects/File System Test\nINFO     app.api.projects:logging_config.py:211 Project created successfully: File System Test | Extra: {\"project_path\": \"File System Test\"}\nINFO     access:error_handler.py:326 POST /api/projects/ - 201\nINFO     app.middleware.error_middleware:error_middleware.py:94 Request completed: POST /api/projects/ - 201\nINFO     httpx:_client.py:1025 HTTP Request: POST http://testserver/api/projects/ \"HTTP/1.1 201 Created\"\nINFO     app.middleware.error_middleware:error_middleware.py:79 Request started: GET /api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files\nINFO     access:error_handler.py:326 GET /api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files - 405\nINFO     app.middleware.error_middleware:error_middleware.py:94 Request completed: GET /api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files - 405\nINFO     httpx:_client.py:1025 HTTP Request: GET http://testserver/api/projects/0ddb4649-7809-41f8-9512-95b37fbd1cf5/files \"HTTP/1.1 405 Method Not Allowed\"\n---------------------------- Captured log teardown -----------------------------\nINFO     app.main:main.py:478 \ud83d\uded1 Shutting down ScrapyUI Application...\nINFO     app.main:main.py:485 \ud83d\udd0d Task monitoring system stopped\nINFO     app.main:main.py:489 \u23f0 Schedule service stopped\nINFO     app.main:main.py:491 \ud83d\uded1 ScrapyUI Application shutdown completed\n_____________ TestFullSystemIntegration.test_security_integration ______________\ntests/integration/test_full_system_integration.py:377: in test_security_integration\n    with patch('app.auth.jwt_handler.verify_token') as mock_verify:\n../../../../.pyenv/versions/3.13.2/lib/python3.13/unittest/mock.py:1495: in __enter__\n    original, local = self.get_original()\n../../../../.pyenv/versions/3.13.2/lib/python3.13/unittest/mock.py:1465: in get_original\n    raise AttributeError(\nE   AttributeError: <module 'app.auth.jwt_handler' from '/home/igtmtakan/workplace/python/scrapyUI/backend/app/auth/jwt_handler.py'> does not have the attribute 'verify_token'\n------------------------------ Captured log setup ------------------------------\nINFO     app.main:main.py:443 \ud83d\ude80 Starting ScrapyUI Application...\nINFO     app.main:main.py:450 \u2705 ScrapyPlaywrightService initialized\nINFO     app.main:main.py:454 \ud83d\udd0d Task monitoring system started\nINFO     app.main:main.py:458 \u23f0 Schedule service started\nINFO     app.main:main.py:460 \u2705 ScrapyUI Application started successfully\n------------------------------ Captured log call -------------------------------\nINFO     app.middleware.error_middleware:error_middleware.py:79 Request started: GET /api/projects/\nINFO     access:error_handler.py:326 GET /api/projects/ - 200\nINFO     app.middleware.error_middleware:error_middleware.py:94 Request completed: GET /api/projects/ - 200\nINFO     httpx:_client.py:1025 HTTP Request: GET http://testserver/api/projects/ \"HTTP/1.1 200 OK\"\n---------------------------- Captured log teardown -----------------------------\nINFO     app.main:main.py:478 \ud83d\uded1 Shutting down ScrapyUI Application...\nINFO     app.main:main.py:485 \ud83d\udd0d Task monitoring system stopped\nINFO     app.main:main.py:489 \u23f0 Schedule service stopped\nINFO     app.main:main.py:491 \ud83d\uded1 ScrapyUI Application shutdown completed\n_________ TestFullSystemIntegration.test_async_operations_integration __________\ntests/integration/test_full_system_integration.py:392: in test_async_operations_integration\n    async with AsyncClient(app=app, base_url=\"http://test\") as async_client:\nE   TypeError: AsyncClient.__init__() got an unexpected keyword argument 'app'\n=============================== warnings summary ===============================\napp/database.py:42\n  /home/igtmtakan/workplace/python/scrapyUI/backend/app/database.py:42: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)\n    Base = declarative_base()\n\n../../../../.pyenv/versions/3.13.2/lib/python3.13/site-packages/pydantic/_internal/_config.py:323: 11 warnings\n  /home/igtmtakan/.pyenv/versions/3.13.2/lib/python3.13/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\n\napp/main.py:437\n  /home/igtmtakan/workplace/python/scrapyUI/backend/app/main.py:437: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../../../../.pyenv/versions/3.13.2/lib/python3.13/site-packages/fastapi/applications.py:4495\n../../../../.pyenv/versions/3.13.2/lib/python3.13/site-packages/fastapi/applications.py:4495\n  /home/igtmtakan/.pyenv/versions/3.13.2/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\napp/main.py:472\n  /home/igtmtakan/workplace/python/scrapyUI/backend/app/main.py:472: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"shutdown\")\n\ntests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_websocket_integration\n  /home/igtmtakan/.pyenv/versions/3.13.2/lib/python3.13/site-packages/pytest_asyncio/plugin.py:884: DeprecationWarning: The event_loop fixture provided by pytest-asyncio has been redefined in\n  /home/igtmtakan/workplace/python/scrapyUI/backend/tests/integration/conftest.py:29\n  Replacing the event_loop fixture with a custom implementation is deprecated\n  and will lead to errors in the future.\n  If you want to request an asyncio event loop with a scope other than function\n  scope, use the \"loop_scope\" argument to the asyncio mark when marking the tests.\n  If you want to return different types of event loops, use the event_loop_policy\n  fixture.\n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n- generated xml file: /home/igtmtakan/workplace/python/scrapyUI/backend/tests/integration/results/junit.xml -\n=========================== short test summary info ============================\nFAILED tests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_complete_project_lifecycle\nFAILED tests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_file_system_integration\nFAILED tests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_security_integration\nFAILED tests/integration/test_full_system_integration.py::TestFullSystemIntegration::test_async_operations_integration\n============= 4 failed, 6 passed, 17 warnings in 74.78s (0:01:14) ==============\n",
      "stderr": "/home/igtmtakan/.pyenv/versions/3.13.2/lib/python3.13/site-packages/pytest_asyncio/plugin.py:217: PytestDeprecationWarning: The configuration option \"asyncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))\n",
      "execution_time": 78.73248672485352
    }
  },
  "summary": {
    "total_suites": 1,
    "passed_suites": 0,
    "failed_suites": 1
  }
}